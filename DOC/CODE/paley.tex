%
% created by a2tex
%
\begin{tabbing}
55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= \kill
//\ paley\symbol{46}C\\[0pt]
//\ \\[0pt]
//\ Anton\ Betten\\[0pt]
//\ January\ 19\symbol{44}\ 2015\\[0pt]
\\[0pt]
\symbol{35}include\ \symbol{34}orbiter\symbol{46}h\symbol{34}\\[0pt]
\\[0pt]
\\[0pt]
int\ main(int\ argc\symbol{44}\ char\ **argv)\\[0pt]
\symbol{123}\\[0pt]
\>INT\ verbose\symbol{95}level\ =\ 0;\\[0pt]
\>finite\symbol{95}field\ *F;\\[0pt]
\>INT\ i\symbol{44}\ j\symbol{44}\ a;\\[0pt]
\>INT\ *Adj;\\[0pt]
\>INT\ f\symbol{95}q\ =\ FALSE;\\[0pt]
\>INT\ q;\\[0pt]
\>INT\ *f\symbol{95}is\symbol{95}square;\\[0pt]
\\[0pt]
\>for\ (i\ =\ 1;\ i\ <\ argc;\ i++)\ \symbol{123}\\[0pt]
\>\>if\ (strcmp(argv[i]\symbol{44}\ \symbol{34}\symbol{45}v\symbol{34})\ ==\ 0)\ \symbol{123}\\[0pt]
\>\>\>verbose\symbol{95}level\ =\ atoi(argv[++i]);\\[0pt]
\>\>\>cout\ <<\ \symbol{34}\symbol{45}v\ \symbol{34}\ <<\ verbose\symbol{95}level\ <<\ endl;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>else\ if\ (strcmp(argv[i]\symbol{44}\ \symbol{34}\symbol{45}q\symbol{34})\ ==\ 0)\ \symbol{123}\\[0pt]
\>\>\>f\symbol{95}q\ =\ TRUE;\\[0pt]
\>\>\>q\ =\ atoi(argv[++i]);\\[0pt]
\>\>\>cout\ <<\ \symbol{34}\symbol{45}q\ \symbol{34}\ <<\ q\ <<\ endl;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>if\ (\symbol{33}f\symbol{95}q)\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}Please\ use\ option\ \symbol{45}q\ <q>\symbol{34}\ <<\ endl;\\[0pt]
\>\>exit(1);\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>if\ (EVEN(q))\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}q\ must\ be\ odd\symbol{34}\ <<\ endl;\\[0pt]
\>\>exit(1);\\[0pt]
\>\>\symbol{125}\\[0pt]
\>if\ (\symbol{33}DOUBLYEVEN(q\ \symbol{45}\ 1))\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}q\ must\ be\ congruent\ to\ 1\ modulo\ 4\symbol{34}\ <<\ endl;\\[0pt]
\>\>\symbol{125}\\[0pt]
\>\\[0pt]
\>F\ =\ new\ finite\symbol{95}field;\\[0pt]
\>F\symbol{45}>init(q\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\>f\symbol{95}is\symbol{95}square\ =\ NEW\symbol{95}INT(q);\\[0pt]
\>INT\symbol{95}vec\symbol{95}zero(f\symbol{95}is\symbol{95}square\symbol{44}\ q);\\[0pt]
\>\\[0pt]
\>for\ (i\ =\ 0;\ i\ <\ q;\ i++)\ \symbol{123}\\[0pt]
\>\>j\ =\ F\symbol{45}>mult(i\symbol{44}\ i);\\[0pt]
\>\>f\symbol{95}is\symbol{95}square[j]\ =\ TRUE;\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>Adj\ =\ NEW\symbol{95}INT(q\ *\ q);\\[0pt]
\>INT\symbol{95}vec\symbol{95}zero(Adj\symbol{44}\ q\ *\ q);\\[0pt]
\>\\[0pt]
\>for\ (i\ =\ 0;\ i\ <\ q;\ i++)\ \symbol{123}\\[0pt]
\>\>for\ (j\ =\ i\ +\ 1;\ j\ <\ q;\ j++)\ \symbol{123}\\[0pt]
\>\>\>a\ =\ F\symbol{45}>add(i\symbol{44}\ F\symbol{45}>negate(j));\\[0pt]
\>\>\>if\ (f\symbol{95}is\symbol{95}square[a])\ \symbol{123}\\[0pt]
\>\>\>\>Adj[i\ *\ q\ +\ j]\ =\ 1;\\[0pt]
\>\>\>\>Adj[j\ *\ q\ +\ 1]\ =\ 1;\\[0pt]
\>\>\>\>\symbol{125}\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\\[0pt]
\>colored\symbol{95}graph\ *CG;\\[0pt]
\>BYTE\ fname[1000];\\[0pt]
\\[0pt]
\>CG\ =\ new\ colored\symbol{95}graph;\\[0pt]
\>CG\symbol{45}>init\symbol{95}adjacency\symbol{95}no\symbol{95}colors(q\symbol{44}\ Adj\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\>sprintf(fname\symbol{44}\ \symbol{34}Paley\symbol{95}\symbol{37}ld\symbol{46}colored\symbol{95}graph\symbol{34}\symbol{44}\ q);\\[0pt]
\\[0pt]
\>CG\symbol{45}>save(fname\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\>delete\ CG;\\[0pt]
\>FREE\symbol{95}INT(Adj);\\[0pt]
\>FREE\symbol{95}INT(f\symbol{95}is\symbol{95}square);\\[0pt]
\>delete\ F;\\[0pt]
\symbol{125}\\[0pt]
\\[0pt]
\end{tabbing}
