%
% created by a2tex
%
\begin{tabbing}
55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= 55 \= \kill
//\ winnie\symbol{95}li\symbol{46}C\\[0pt]
//\\[0pt]
//\ Anton\ Betten\\[0pt]
//\ November\ 11\symbol{44}\ 2011\\[0pt]
//\\[0pt]
//\ creates\ the\ graphs\ described\ in\ the\ paper:\\[0pt]
//\ Wen\ Ching\ Winnie\ Li:\ Character\ Sums\ and\ Abelian\ Ramanujan\ Graphs\ 1991\\[0pt]
\\[0pt]
\symbol{35}include\ \symbol{34}orbiter\symbol{46}h\symbol{34}\\[0pt]
\\[0pt]
\\[0pt]
INT\ t0;\\[0pt]
\\[0pt]
void\ do\symbol{95}it(INT\ q\symbol{44}\ INT\ f\symbol{95}index\symbol{44}\ INT\ index\symbol{44}\ INT\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\\[0pt]
int\ main(int\ argc\symbol{44}\ char\ **argv)\\[0pt]
\symbol{123}\\[0pt]
\>INT\ i;\\[0pt]
\>INT\ verbose\symbol{95}level\ =\ 0;\\[0pt]
\>INT\ f\symbol{95}q\ =\ FALSE;\\[0pt]
\>INT\ q\ =\ 0;\\[0pt]
\>INT\ f\symbol{95}index\ =\ FALSE;\\[0pt]
\>INT\ index\ =\ 0;\\[0pt]
\>\\[0pt]
\>t0\ =\ os\symbol{95}ticks();\\[0pt]
\\[0pt]
\>\\[0pt]
\>for\ (i\ =\ 1;\ i\ <\ argc;\ i++)\ \symbol{123}\\[0pt]
\>\>if\ (strcmp(argv[i]\symbol{44}\ \symbol{34}\symbol{45}v\symbol{34})\ ==\ 0)\ \symbol{123}\\[0pt]
\>\>\>verbose\symbol{95}level\ =\ atoi(argv[++i]);\\[0pt]
\>\>\>cout\ <<\ \symbol{34}\symbol{45}v\ \symbol{34}\ <<\ verbose\symbol{95}level\ <<\ endl;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>else\ if\ (strcmp(argv[i]\symbol{44}\ \symbol{34}\symbol{45}q\symbol{34})\ ==\ 0)\ \symbol{123}\\[0pt]
\>\>\>f\symbol{95}q\ =\ TRUE;\\[0pt]
\>\>\>q\ =\ atoi(argv[++i]);\\[0pt]
\>\>\>cout\ <<\ \symbol{34}\symbol{45}q\ \symbol{34}\ <<\ q\ <<\ endl;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>else\ if\ (strcmp(argv[i]\symbol{44}\ \symbol{34}\symbol{45}index\symbol{34})\ ==\ 0)\ \symbol{123}\\[0pt]
\>\>\>f\symbol{95}index\ =\ TRUE;\\[0pt]
\>\>\>index\ =\ atoi(argv[++i]);\\[0pt]
\>\>\>cout\ <<\ \symbol{34}\symbol{45}index\ \symbol{34}\ <<\ index\ <<\ endl;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>\symbol{125}\\[0pt]
\>\\[0pt]
\\[0pt]
\\[0pt]
\>if\ (\symbol{33}f\symbol{95}q)\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}please\ specify\ \symbol{45}q\ <q>\symbol{34}\ <<\ endl;\\[0pt]
\>\>exit(1);\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>do\symbol{95}it(q\symbol{44}\ f\symbol{95}index\symbol{44}\ index\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\>\\[0pt]
\symbol{125}\\[0pt]
\\[0pt]
void\ do\symbol{95}it(INT\ q\symbol{44}\ INT\ f\symbol{95}index\symbol{44}\ INT\ index\symbol{44}\ INT\ verbose\symbol{95}level)\\[0pt]
\symbol{123}\\[0pt]
\>//INT\ f\symbol{95}v\ =\ (verbose\symbol{95}level\ >=\ 1);\\[0pt]
\>finite\symbol{95}field\ *F;\\[0pt]
\>INT\ i\symbol{44}\ j\symbol{44}\ h\symbol{44}\ u\symbol{44}\ p\symbol{44}\ k\symbol{44}\ co\symbol{95}index\symbol{44}\ q1\symbol{44}\ relative\symbol{95}norm;\\[0pt]
\>INT\ *N1;\\[0pt]
\>INT\ *Adj;\\[0pt]
\>\\[0pt]
\\[0pt]
\>F\ =\ new\ finite\symbol{95}field;\\[0pt]
\>F\symbol{45}>init(q\symbol{44}\ verbose\symbol{95}level\ \symbol{45}\ 1);\\[0pt]
\>p\ =\ F\symbol{45}>p;\\[0pt]
\\[0pt]
\>if\ (\symbol{33}f\symbol{95}index)\ \symbol{123}\\[0pt]
\>\>index\ =\ F\symbol{45}>e;\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>co\symbol{95}index\ =\ F\symbol{45}>e\ /\ index;\\[0pt]
\\[0pt]
\>if\ (co\symbol{95}index\ *\ index\ \symbol{33}=\ F\symbol{45}>e)\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}the\ index\ has\ to\ divide\ the\ field\ degree\symbol{34}\ <<\ endl;\\[0pt]
\>\>exit(1);\\[0pt]
\>\>\symbol{125}\\[0pt]
\>q1\ =\ i\symbol{95}power\symbol{95}j(p\symbol{44}\ co\symbol{95}index);\\[0pt]
\\[0pt]
\>k\ =\ (q\ \symbol{45}\ 1)\ /\ (q1\ \symbol{45}\ 1);\\[0pt]
\\[0pt]
\>cout\ <<\ \symbol{34}q=\symbol{34}\ <<\ q\ <<\ endl;\\[0pt]
\>cout\ <<\ \symbol{34}index=\symbol{34}\ <<\ index\ <<\ endl;\\[0pt]
\>cout\ <<\ \symbol{34}co\symbol{95}index=\symbol{34}\ <<\ co\symbol{95}index\ <<\ endl;\\[0pt]
\>cout\ <<\ \symbol{34}q1=\symbol{34}\ <<\ q1\ <<\ endl;\\[0pt]
\>cout\ <<\ \symbol{34}k=\symbol{34}\ <<\ k\ <<\ endl;\\[0pt]
\\[0pt]
\>relative\symbol{95}norm\ =\ 0;\\[0pt]
\>j\ =\ 1;\\[0pt]
\>for\ (i\ =\ 0;\ i\ <\ index;\ i++)\ \symbol{123}\\[0pt]
\>\>relative\symbol{95}norm\ +=\ j;\\[0pt]
\>\>j\ *=\ q1;\\[0pt]
\>\>\symbol{125}\\[0pt]
\>cout\ <<\ \symbol{34}relative\symbol{95}norm=\symbol{34}\ <<\ relative\symbol{95}norm\ <<\ endl;\\[0pt]
\\[0pt]
\>N1\ =\ NEW\symbol{95}INT(k);\\[0pt]
\>j\ =\ 0;\\[0pt]
\>for\ (i\ =\ 0;\ i\ <\ q;\ i++)\ \symbol{123}\\[0pt]
\>\>if\ (F\symbol{45}>power(i\symbol{44}\ relative\symbol{95}norm)\ ==\ 1)\ \symbol{123}\\[0pt]
\>\>\>N1[j++]\ =\ i;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>\symbol{125}\\[0pt]
\>if\ (j\ \symbol{33}=\ k)\ \symbol{123}\\[0pt]
\>\>cout\ <<\ \symbol{34}j\ \symbol{33}=\ k\symbol{34}\ <<\ endl;\\[0pt]
\>\>exit(1);\\[0pt]
\>\>\symbol{125}\\[0pt]
\>cout\ <<\ \symbol{34}found\ \symbol{34}\ <<\ k\ <<\ \symbol{34}\ norm\symbol{45}one\ elements:\symbol{34}\ <<\ endl;\\[0pt]
\>INT\symbol{95}vec\symbol{95}print(cout\symbol{44}\ N1\symbol{44}\ k);\\[0pt]
\>cout\ <<\ endl;\\[0pt]
\\[0pt]
\>Adj\ =\ NEW\symbol{95}INT(q\ *\ q);\\[0pt]
\>for\ (i\ =\ 0;\ i\ <\ q;\ i++)\ \symbol{123}\\[0pt]
\>\>for\ (h\ =\ 0;\ h\ <\ k;\ h++)\ \symbol{123}\\[0pt]
\>\>\>j\ =\ N1[h];\\[0pt]
\>\>\>u\ =\ F\symbol{45}>add(i\symbol{44}\ j);\\[0pt]
\>\>\>Adj[i\ *\ q\ +\ u]\ =\ 1;\\[0pt]
\>\>\>Adj[u\ *\ q\ +\ i]\ =\ 1;\\[0pt]
\>\>\>\symbol{125}\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\\[0pt]
\>colored\symbol{95}graph\ *CG;\\[0pt]
\>BYTE\ fname[1000];\\[0pt]
\\[0pt]
\>CG\ =\ new\ colored\symbol{95}graph;\\[0pt]
\>CG\symbol{45}>init\symbol{95}adjacency\symbol{95}no\symbol{95}colors(q\symbol{44}\ Adj\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\>if\ (f\symbol{95}index)\ \symbol{123}\\[0pt]
\>\>sprintf(fname\symbol{44}\ \symbol{34}Winnie\symbol{95}Li\symbol{95}\symbol{37}ld\symbol{95}\symbol{37}ld\symbol{46}colored\symbol{95}graph\symbol{34}\symbol{44}\ q\symbol{44}\ index);\\[0pt]
\>\>\symbol{125}\\[0pt]
\>else\ \symbol{123}\\[0pt]
\>\>sprintf(fname\symbol{44}\ \symbol{34}Winnie\symbol{95}Li\symbol{95}\symbol{37}ld\symbol{46}colored\symbol{95}graph\symbol{34}\symbol{44}\ q);\\[0pt]
\>\>\symbol{125}\\[0pt]
\\[0pt]
\>CG\symbol{45}>save(fname\symbol{44}\ verbose\symbol{95}level);\\[0pt]
\\[0pt]
\\[0pt]
\\[0pt]
\\[0pt]
\\[0pt]
\>delete\ CG;\\[0pt]
\>FREE\symbol{95}INT(Adj);\\[0pt]
\>FREE\symbol{95}INT(N1);\\[0pt]
\>delete\ F;\\[0pt]
\\[0pt]
\\[0pt]
\symbol{125}\\[0pt]
\\[0pt]
\\[0pt]
\end{tabbing}
